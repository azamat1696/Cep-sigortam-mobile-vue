import{C as ye,bm as he,D as Ve,E as k,r as n,n as Me,p as $e,q as i,az as ge,f as o,H as Se,v as I,J as _,I as f,s as r,bn as p,t as ke,u as b,aA as Ce,aM as Ke,B as we}from"./index.30f5c437.js";import{Q as Ae}from"./QToolbarTitle.a6819191.js";import{Q as ze,a as Te}from"./QHeader.3c71bea2.js";import{Q as Le,a as Oe}from"./QPopupProxy.89031557.js";import{Q as d}from"./QSelect.03b8b302.js";import{Q as Qe,a as c,b as C}from"./QStepper.37bcbf08.js";import{Q as N}from"./QForm.a1289c72.js";import{Q as Ue}from"./QPageContainer.392f171c.js";import{C as De}from"./ClosePopup.d9a81c54.js";import{d as qe}from"./date.3e6ee8a6.js";import{u as Be}from"./ferdi-kaza-store.8c863fd0.js";import{u as Fe}from"./ferdi-kaza-create.127615f7.js";import{u as K}from"./main-store.9c391812.js";import Ie from"./HesaplananPirim.d8121695.js";import _e from"./PaymentPirim.ee7f2ee2.js";import"./use-cache.b0833c75.js";import"./format.c860d4da.js";import"./position-engine.bbf55c97.js";import"./selection.027ba7fc.js";import"./QChip.e0a903dc.js";import"./QItem.5a6d01d8.js";import"./QItemLabel.914dfdc7.js";import"./rtl.b51694b1.js";import"./QSlideTransition.da40cf02.js";import"./use-panel.c1f97c66.js";import"./touch.70a9dd44.js";import"./QExpansionItem.a6d51037.js";import"./QList.1b8644ff.js";const Ne={class:""},Ye={class:"row items-center justify-end"},Ge={class:"row"},Pe={class:"col-6"},Ee={class:"col-6 text-right"},je={class:"row"},Je={class:"col-1"},He={class:"col-11 text-grey-8",style:{"font-size":"11px"}},Re={class:"col-12"},We={class:"col-12"},Kl=ye({__name:"FerdiKaza",setup(Xe){var B,F;he(),K();const Y=Ve();Be();const w=Fe();k(w);const{user:m}=k(Y),{countries:G,il:A,ilce:P,belediyeSelect:E,mahalleSelect:j,sokakSelect:J,agent:y,jobs:z}=k(K()),{countriesGet:H,ilGet:R,ilceSelectGet:W,belediyeSelectGet:X,mahalleSelectGet:Z,sokakSelectGet:x,agentGet:ee,getJobs:le}=K();le(),H(),R(),W(),X(),Z(),x(),ee();const ae=[{value:"E",label:"Erkek"},{value:"K",label:"Kad\u0131n"}],oe=[{value:"200000",label:"200.000 TL"},{value:"400000",label:"400.000 TL"},{value:"750000",label:"750.000 TL"},{value:"1000000",label:"1.000.000 TL"},{value:"1500000",label:"1.500.000 TL"}];n(G.value),n();const T=n(A.value);let h=n([]),L=n([]);const V=n([]),O=n([]),M=n([]),Q=n([]),$=n([]),U=n([]),D=[1,2,3,4,5,6,7,8,9,10],g=n(y.value),q=n(z.value),te=(l,a)=>{a(()=>{const e=l.toLowerCase();T.value=A.value.filter(u=>u.Aciklama.toLowerCase().indexOf(e)>-1)})},ie=(l,a)=>{a(()=>{const e=l.toLowerCase();L.value=h.value.filter(u=>u.ilce_Adi.toLowerCase().indexOf(e)>-1)})},ue=(l,a)=>{a(()=>{const e=l.toLowerCase();O.value=V.value.filter(u=>u.Belediye_Adi.toLowerCase().indexOf(e)>-1)})},ne=(l,a)=>{a(()=>{const e=l.toLowerCase();Q.value=M.value.filter(u=>u.Mahalle_Adi.toLowerCase().indexOf(e)>-1)})},se=(l,a)=>{a(()=>{const e=l.toLowerCase();U.value=$.value.filter(u=>{var v;return((v=u.Sokak_Adi)==null?void 0:v.toLowerCase().indexOf(e))>-1})})},re=(l,a)=>{a(()=>{const e=l.toLowerCase();q.value=z.value.filter(u=>{var v;return((v=u.MeslekSinifi)==null?void 0:v.toLowerCase().indexOf(e))>-1})})},de=(l,a)=>{if(l===""){a(()=>{g.value=y.value.filter(e=>D.includes(e.id))});return}a(()=>{const e=l.toLowerCase();g.value=y.value.filter(u=>D.includes(u.id)).filter(u=>u.Acente_Adi.toLowerCase().indexOf(e)>-1)})},me=l=>{l!==null?h.value=P.value.filter(a=>a.il_Kodu===+l):h.value=[]},pe=l=>{l!==null?V.value=E.value.filter(a=>a.ilce_Kodu===+l):V.value=[]},ve=l=>{l!==null?M.value=j.value.filter(a=>+a.belediyenin_Kodu==+l):M.value=[]},be=l=>{console.log($),$.value=J.value.filter(a=>+a.mahallenin_Kodu==+l)},S=()=>{s.value++},fe=()=>{s.value--},ce=async()=>{let l=new FormData;for(const[a,e]of Object.entries(t.value))a==="uyar"?l.append(a,e?"1":"0"):l.append(a,e);await w.hesaplaFerdiKaza(l).then(a=>{a&&S()})},s=n(1),t=n({KullaniciAdi:(B=m.value)==null?void 0:B.name,KullaniciSoyAdi:(F=m.value)==null?void 0:F.surname,MusteriTcKimlikNo:m.value.id_card,MusteriDogumYeri:m.value.birthplace,MusteriCinsiyet:"E",MusteriUyruk:"",MusteriDogumTarihi:qe.formatDate(m.value.birth_date,"DD/MM/YYYY"),MusteriIlceKodu:"",MusteriBucakKodu:"",MusteriBelediyeKodu:"",MusteriMahalleKodu:"",MusteriCSBMKodu:"",MusteriCepTelefonNo:m.value.phone,MusteriEPosta:m.value.email,AcenteId:"",uyar:!1,TeminatLimiti:"",Lehtar:"",Meslegi:"",TCVat:m.value.id_type});return(l,a)=>(Me(),$e(ge,{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeIn"},{default:i(()=>[o(Te,{key:"ferdiKazaCreate",elevated:""},{default:i(()=>[o(ze,null,{default:i(()=>[o(Se,{size:"sm"},{default:i(()=>[o(I,{name:"chevron_left",onClick:a[0]||(a[0]=e=>l.$router.push({name:"homeLogin"})),size:"md",class:"cursor-pointer"})]),_:1}),o(Ae,{class:"text-subtitle2 text-bold text-center"},{default:i(()=>[_(f(l.$t("personel_accident")),1)]),_:1})]),_:1})]),_:1}),o(Ue,null,{default:i(()=>[r("div",Ne,[o(Qe,{modelValue:s.value,"onUpdate:modelValue":a[20]||(a[20]=e=>s.value=e),"header-nav":"",ref:"stepper",color:"primary","active-icon":"none",animated:"",class:"no-shadow","header-class":"no-border hide_header"},{default:i(()=>[o(c,{name:1,prefix:1,title:"",done:s.value>1,"header-nav":s.value>1,class:"q-pt-none"},{default:i(()=>[o(N,{onSubmit:S,class:"q-gutter-md"},{default:i(()=>[o(p,{dense:"",outlined:"",modelValue:t.value.KullaniciAdi,"onUpdate:modelValue":a[1]||(a[1]=e=>t.value.KullaniciAdi=e),label:l.$t("name"),"hide-bottom-space":"","lazy-rules":"",readonly:"",rules:[e=>e&&e.length>0||l.$t("required")]},null,8,["modelValue","label","rules"]),o(p,{dense:"",outlined:"",modelValue:t.value.KullaniciSoyAdi,"onUpdate:modelValue":a[2]||(a[2]=e=>t.value.KullaniciSoyAdi=e),label:l.$t("surname"),readonly:"","hide-bottom-space":"","lazy-rules":"",rules:[e=>e&&e.length>0||l.$t("required")]},null,8,["modelValue","label","rules"]),o(p,{dense:"",outlined:"",modelValue:t.value.MusteriTcKimlikNo,"onUpdate:modelValue":a[3]||(a[3]=e=>t.value.MusteriTcKimlikNo=e),label:l.$t("identity_no"),readonly:"","hide-bottom-space":"","lazy-rules":"",rules:[e=>e&&e.length>0||l.$t("required")]},null,8,["modelValue","label","rules"]),o(p,{modelValue:t.value.MusteriDogumTarihi,"onUpdate:modelValue":a[5]||(a[5]=e=>t.value.MusteriDogumTarihi=e),outlined:"",dense:"","hide-bottom-space":"",readonly:"",label:"Do\u011Fum Tarihi"},{append:i(()=>[o(I,{name:"event",class:"cursor-pointer"},{default:i(()=>[o(Le,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:i(()=>[o(Oe,{modelValue:t.value.MusteriDogumTarihi,"onUpdate:modelValue":a[4]||(a[4]=e=>t.value.MusteriDogumTarihi=e),mask:"DD / MM /YYYY"},{default:i(()=>[r("div",Ye,[ke(o(b,{label:l.$t("close"),color:"primary",flat:""},null,8,["label"]),[[De]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","label"]),o(p,{dense:"",outlined:"",modelValue:t.value.MusteriDogumYeri,"onUpdate:modelValue":a[6]||(a[6]=e=>t.value.MusteriDogumYeri=e),label:l.$t("birthplace"),"hide-bottom-space":"","lazy-rules":"",readonly:"",rules:[e=>e&&e.length>0||l.$t("required")]},null,8,["modelValue","label","rules"]),o(d,{outlined:"",modelValue:t.value.MusteriCinsiyet,"onUpdate:modelValue":a[7]||(a[7]=e=>t.value.MusteriCinsiyet=e),options:ae,"option-label":e=>e.label,"option-value":"value",label:l.$t("gender"),dense:"","emit-value":"","map-options":"","hide-bottom-space":"",behavior:"menu","lazy-rules":"",rules:[e=>e!==null&&e!==""||l.$t("required")]},null,8,["modelValue","option-label","label","rules"]),o(p,{dense:"",outlined:"",modelValue:t.value.MusteriCepTelefonNo,"onUpdate:modelValue":a[8]||(a[8]=e=>t.value.MusteriCepTelefonNo=e),type:"text",readonly:"",label:l.$t("phone_no"),"hide-bottom-space":"","lazy-rules":"",rules:[e=>e&&e.length>0||l.$t("required")]},null,8,["modelValue","label","rules"]),o(p,{dense:"",outlined:"",modelValue:t.value.MusteriEPosta,"onUpdate:modelValue":a[9]||(a[9]=e=>t.value.MusteriEPosta=e),type:"text",readonly:"",label:l.$t("email_address"),"hide-bottom-space":"","lazy-rules":"",rules:[e=>e&&e.length>7||l.$t("required")]},null,8,["modelValue","label","rules"]),o(C,null,{default:i(()=>[o(b,{type:"submit",color:"primary",label:l.$t("forward"),"no-caps":"",class:"full-width"},null,8,["label"])]),_:1})]),_:1})]),_:1},8,["done","header-nav"]),o(c,{name:2,prefix:2,done:s.value>2,title:"","header-nav":s.value>2,style:{"min-height":"200px"}},{default:i(()=>[o(N,{onSubmit:ce,class:"q-gutter-md"},{default:i(()=>[o(d,{outlined:"",modelValue:t.value.MusteriIlceKodu,"onUpdate:modelValue":[a[10]||(a[10]=e=>t.value.MusteriIlceKodu=e),me],options:T.value,"option-label":e=>e.Aciklama,"option-value":"id","emit-value":"","map-options":"",label:l.$t("province_select"),dense:"","hide-bottom-space":"",behavior:"menu",clearable:"","use-input":"",onFilter:te,"lazy-rules":"",rules:[e=>e!==null&&e!==""||l.$t("required")]},null,8,["modelValue","options","option-label","label","rules"]),o(d,{outlined:"",modelValue:t.value.MusteriBucakKodu,"onUpdate:modelValue":[a[11]||(a[11]=e=>t.value.MusteriBucakKodu=e),pe],options:Ce(L),"option-label":e=>e.ilce_Adi,"option-value":"id","emit-value":"","map-options":"",label:l.$t("district_select"),dense:"",clearable:"","hide-bottom-space":"",behavior:"menu","use-input":"",onFilter:ie,"lazy-rules":"",rules:[e=>e!==null&&e!==""||l.$t("required")]},null,8,["modelValue","options","option-label","label","rules"]),o(d,{outlined:"",modelValue:t.value.MusteriBelediyeKodu,"onUpdate:modelValue":[a[12]||(a[12]=e=>t.value.MusteriBelediyeKodu=e),ve],options:O.value,"option-label":e=>e.Belediye_Adi,"option-value":"id","emit-value":"","map-options":"",label:l.$t("council_select"),dense:"",clearable:"","hide-bottom-space":"",behavior:"menu","use-input":"",onFilter:ue,"lazy-rules":"",rules:[e=>e!==null&&e!==""||l.$t("required")]},null,8,["modelValue","options","option-label","label","rules"]),o(d,{outlined:"",modelValue:t.value.MusteriMahalleKodu,"onUpdate:modelValue":[a[13]||(a[13]=e=>t.value.MusteriMahalleKodu=e),be],options:Q.value,"option-label":e=>e.Mahalle_Adi,"option-value":"id","emit-value":"","map-options":"",label:l.$t("municipality_select"),dense:"",clearable:"","hide-bottom-space":"","use-input":"",onFilter:ne,behavior:"menu","lazy-rules":"",rules:[e=>e!==null&&e!==""||l.$t("required")]},null,8,["modelValue","options","option-label","label","rules"]),o(d,{outlined:"",modelValue:t.value.MusteriCSBMKodu,"onUpdate:modelValue":a[14]||(a[14]=e=>t.value.MusteriCSBMKodu=e),options:U.value,"option-label":e=>e.Sokak_Adi,"option-value":"id","emit-value":"","map-options":"",label:l.$t("street_select"),dense:"",clearable:"","use-input":"",onFilter:se,"hide-bottom-space":"",behavior:"menu","lazy-rules":"",rules:[e=>e!==null&&e!==""||l.$t("required")]},null,8,["modelValue","options","option-label","label","rules"]),o(d,{outlined:"",modelValue:t.value.TeminatLimiti,"onUpdate:modelValue":a[15]||(a[15]=e=>t.value.TeminatLimiti=e),options:oe,"option-label":e=>e.label,"option-value":"value","emit-value":"","map-options":"",label:l.$t("death_and_permanent_disability"),dense:"",clearable:"","use-input":"","hide-bottom-space":"",behavior:"menu","lazy-rules":"",rules:[e=>e!==null&&e!==""||l.$t("required")]},null,8,["modelValue","option-label","label","rules"]),o(p,{dense:"",outlined:"",modelValue:t.value.Lehtar,"onUpdate:modelValue":a[16]||(a[16]=e=>t.value.Lehtar=e),type:"text",label:l.$t("lehtar"),"hide-bottom-space":""},null,8,["modelValue","label"]),o(d,{outlined:"",modelValue:t.value.Meslegi,"onUpdate:modelValue":a[17]||(a[17]=e=>t.value.Meslegi=e),options:q.value,"option-label":e=>e.MeslekSinifi,"option-value":"MeslekSinifi","emit-value":"","map-options":"",label:l.$t("job_select"),dense:"",clearable:"","use-input":"","hide-bottom-space":"",behavior:"menu",onFilter:re,"lazy-rules":"",rules:[e=>e!==null&&e!==""||l.$t("required")]},null,8,["modelValue","options","option-label","label","rules"]),o(d,{outlined:"",modelValue:t.value.AcenteId,"onUpdate:modelValue":a[18]||(a[18]=e=>t.value.AcenteId=e),options:g.value,"option-label":e=>e.Acente_Adi,"option-value":"id","emit-value":"","map-options":"",label:l.$t("agent_select"),dense:"",clearable:"","use-input":"",onFilter:de,"hide-bottom-space":"",behavior:"menu","lazy-rules":"",rules:[e=>e!==null&&e!==""||l.$t("required")]},null,8,["modelValue","options","option-label","label","rules"]),o(C,null,{default:i(()=>[r("div",Ge,[r("div",Pe,[o(b,{color:"primary",label:l.$t("backward"),"no-caps":"",onClick:fe},null,8,["label"])]),r("div",Ee,[o(b,{type:"submit",color:"primary",label:l.$t("calculate"),"no-caps":"",class:"full-width"},null,8,["label"])])])]),_:1}),r("div",je,[r("div",Je,[o(Ke,{modelValue:t.value.uyar,"onUpdate:modelValue":a[19]||(a[19]=e=>t.value.uyar=e),color:"primary",dense:""},null,8,["modelValue"])]),r("div",He,[r("b",null,f(l.$t("warning"))+":",1),_(" "+f(l.$t("warning_text")),1)]),r("div",Re,[o(we,{spaced:""})]),r("div",We,f(l.$t("warning_text_lehtar")),1)])]),_:1})]),_:1},8,["done","header-nav"]),o(c,{name:3,title:l.$t("calculated_premium"),done:s.value>3,"header-nav":s.value>3,style:{"min-height":"200px"}},{default:i(()=>[o(Ie),o(C,null,{default:i(()=>[o(b,{type:"submit",color:"primary",label:l.$t("forward"),"no-caps":"",class:"full-width",onClick:S},null,8,["label"])]),_:1})]),_:1},8,["title","done","header-nav"]),o(c,{name:4,title:l.$t("payment_submit"),done:s.value>4,"header-nav":s.value>4,style:{"min-height":"200px"}},{default:i(()=>[o(_e)]),_:1},8,["title","done","header-nav"])]),_:1},8,["modelValue"])])]),_:1})]),_:1}))}});export{Kl as default};
