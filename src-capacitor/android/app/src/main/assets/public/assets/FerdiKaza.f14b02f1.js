import{C as ge,bm as Ke,D as Te,E as Q,o as ze,r as i,n as Ue,p as Le,q as u,az as Ae,f as t,J as C,I as p,bn as r,aM as b,v as Oe,aA as v,s as d,t as we,u as $,B as De}from"./index.30f5c437.js";import{Q as Qe,a as qe}from"./QPopupProxy.89031557.js";import{Q as s}from"./QSelect.03b8b302.js";import{Q as Be,a as Fe}from"./QItem.5a6d01d8.js";import{Q as Ie,a as q,b as B}from"./QStepper.37bcbf08.js";import{Q as F}from"./QForm.a1289c72.js";import{Q as Pe}from"./QPageContainer.392f171c.js";import{Q as Ee}from"./QLayout.b47518c6.js";import{C as Ne}from"./ClosePopup.d9a81c54.js";import{u as Ge}from"./main-store.9c391812.js";import{u as Ye}from"./ferdi-kaza-store.8c863fd0.js";import{H as je}from"./HeaderComponent.2340d95b.js";import{u as He}from"./vue-i18n.runtime.esm-bundler.6da63653.js";import"./use-cache.b0833c75.js";import"./date.3e6ee8a6.js";import"./format.c860d4da.js";import"./position-engine.bbf55c97.js";import"./selection.027ba7fc.js";import"./QChip.e0a903dc.js";import"./QItemLabel.914dfdc7.js";import"./rtl.b51694b1.js";import"./QSlideTransition.da40cf02.js";import"./use-panel.c1f97c66.js";import"./touch.70a9dd44.js";import"./QToolbarTitle.a6819191.js";import"./QHeader.3c71bea2.js";const Re={class:"row items-center justify-end"},Je={class:"text-subtitle2 text-bold"},We={class:"row"},Xe={class:"col-1"},Ze={class:"col-11 text-grey-8",style:{"font-size":"11px"}},_e={class:"col-12"},xe={class:"col-12"},Tl=ge({__name:"FerdiKaza",setup(el){const{locale:I}=He(),P={months:["Ocak","\u015Eubat","Mart","Nisan","May\u0131s","Haziran","Temmuz","A\u011Fustos","Eyl\xFCl","Ekim","Kas\u0131m","Aral\u0131k"],monthsShort:["Oca","\u015Eub","Mar","Nis","May","Haz","Tem","A\u011Fu","Eyl","Eki","Kas","Ara"],days:["Pazar","Pazartesi","Sal\u0131","\xC7ar\u015Famba","Per\u015Fembe","Cuma","Cumartesi"],daysShort:["Paz","Pzt","Sal","\xC7ar","Per","Cum","Cmt"]},E=I.value==="tr"?P:null,N=Ke(),g=Ge(),G=Te(),Y=Ye(),{countries:c,il:K,ilce:j,belediyeSelect:H,mahalleSelect:R,sokakSelect:J,agent:f,jobs:W}=Q(g);Q(G);const{countriesGet:X,ilGet:Z,ilceSelectGet:_,belediyeSelectGet:x,mahalleSelectGet:ee,sokakSelectGet:le,agentGet:ae,getJobs:oe}=g;ze(()=>{oe(),X(),Z(),_(),x(),ee(),le(),ae()});const te=[{value:"Erkek",label:"Erkek"},{value:"Kad\u0131n",label:"Kad\u0131n"}],ue=[{value:"TL",label:"TL"},{value:"USD",label:"USD"},{value:"EUR",label:"EUR"},{value:"GBP",label:"GBP"}],ie=[{value:"200000",label:"200.000 TL"},{value:"400000",label:"400.000 TL"},{value:"750000",label:"750.000 TL"},{value:"1000000",label:"1.000.000 TL"},{value:"1500000",label:"1.500.000 TL"}],ne=[{value:"10",label:"10.000"},{value:"25",label:"25.000"},{value:"40",label:"40.000 "},{value:"70",label:"70.000"},{value:"100",label:"100.000"}];let se=i(W.value),V=i(c.value);i();const T=i(K.value);let y=i([]),z=i([]);const M=i([]),U=i([]),S=i([]),L=i([]),A=i([]),O=i([]),w=[1,2,3,4,5,6,7,8,9,10],h=i(f.value);let k=i();const re=(l,a)=>{if(l===""){a(()=>{V.value=c.value});return}a(()=>{const e=l.toLowerCase();V.value=c.value.filter(n=>n.Aciklama.toLowerCase().indexOf(e)>-1)})},de=(l,a)=>{a(()=>{const e=l.toLowerCase();T.value=K.value.filter(n=>n.Aciklama.toLowerCase().indexOf(e)>-1)})},me=(l,a)=>{a(()=>{const e=l.toLowerCase();z.value=y.value.filter(n=>n.ilce_Adi.toLowerCase().indexOf(e)>-1)})},pe=(l,a)=>{a(()=>{const e=l.toLowerCase();U.value=M.value.filter(n=>n.Belediye_Adi.toLowerCase().indexOf(e)>-1)})},be=(l,a)=>{a(()=>{const e=l.toLowerCase();L.value=S.value.filter(n=>n.Mahalle_Adi.toLowerCase().indexOf(e)>-1)})},ve=(l,a)=>{a(()=>{const e=l.toLowerCase();O.value=A.value.filter(n=>{var D;return((D=n.Sokak_Adi)==null?void 0:D.toLowerCase().indexOf(e))>-1})})},ce=(l,a)=>{if(l===""){a(()=>{h.value=f.value.filter(e=>w.includes(e.id))});return}a(()=>{const e=l.toLowerCase();h.value=f.value.filter(n=>w.includes(n.id)).filter(n=>n.Acente_Adi.toLowerCase().indexOf(e)>-1)})},fe=l=>{l!==null?y.value=j.value.filter(a=>a.il_Kodu===+l):y.value=[]},Ve=l=>{l!==null?M.value=H.value.filter(a=>a.ilce_Kodu===+l):M.value=[]},ye=l=>{l!==null?S.value=R.value.filter(a=>+a.belediyenin_Kodu==+l):S.value=[]},Me=l=>{A.value=J.value.filter(a=>+a.mahallenin_Kodu==+l)},Se=l=>{l==="TL"&&l!==null?k.value=ie:(l==="USD"||l==="EUR"||l==="GBP")&&(console.log(l),k.value=ne)},he=()=>{m.value++},ke=async()=>{let l=new FormData;for(const[a,e]of Object.entries(o.value)){if(a==="contact_email"||a==="contact_phone"||a==="contact_sms"){l.append(a,e===!0?1:0);continue}l.append(a,e)}await Y.ferdiKazaFormSubmit(l).then(a=>{a===!0&&N.push({name:"trafikSuccess"})})},m=i(1),o=i({KullaniciAdi:"",KullaniciSoyAdi:"",MusteriTcKimlikNo:"",MusteriDogumYeri:"",MusteriCinsiyet:"",MusteriUyruk:"",MusteriDogumTarihi:"",MusteriIlceKodu:"",MusteriBucakKodu:"",MusteriBelediyeKodu:"",MusteriMahalleKodu:"",MusteriCSBMKodu:"",MusteriCepTelefonNo:"",MusteriEPosta:"",AcenteId:"",uyar:!1,TeminatLimiti:"",Lehtar:"",Meslegi:"",TeminatLimitiDovic:"",TCVat:!1,contact_email:!1,contact_phone:!1,contact_sms:!1}),Ce=i(!0),$e=l=>{o.value.id_card=l,l.length===11?o.value.TCVat=!0:o.value.TCVat=!1};return(l,a)=>(Ue(),Le(Ae,{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeIn"},{default:u(()=>[t(Ee,{key:"ferdiKazaTeklif",view:"lHh Lpr lFf"},{default:u(()=>[t(je,null,{default:u(()=>[C(p(l.$t("personel_accident")),1)]),_:1}),t(Pe,null,{default:u(()=>[t(Ie,{modelValue:m.value,"onUpdate:modelValue":a[25]||(a[25]=e=>m.value=e),"header-nav":"",ref:"stepper",color:"primary","active-icon":"none","done-icon":"none",animated:"",class:"no-shadow","header-class":"no-border"},{default:u(()=>[t(q,{name:1,prefix:1,title:"",done:m.value>1,"header-nav":m.value>1,class:"q-pt-none"},{default:u(()=>[t(F,{onSubmit:he,class:"q-gutter-md"},{default:u(()=>[t(r,{dense:"",outlined:"",modelValue:o.value.KullaniciAdi,"onUpdate:modelValue":a[0]||(a[0]=e=>o.value.KullaniciAdi=e),label:l.$t("name"),"hide-bottom-space":"","lazy-rules":"",rules:[e=>e&&e.length>0||l.$t("required")]},null,8,["modelValue","label","rules"]),t(r,{dense:"",outlined:"",modelValue:o.value.KullaniciSoyAdi,"onUpdate:modelValue":a[1]||(a[1]=e=>o.value.KullaniciSoyAdi=e),label:l.$t("surname"),"hide-bottom-space":"","lazy-rules":"",rules:[e=>e&&e.length>0||l.$t("required")]},null,8,["modelValue","label","rules"]),t(r,{dense:"",outlined:"",modelValue:o.value.MusteriTcKimlikNo,"onUpdate:modelValue":[a[2]||(a[2]=e=>o.value.MusteriTcKimlikNo=e),$e],label:l.$t("identity_no"),"hide-bottom-space":"",mask:"#### #### ###","unmasked-value":"","lazy-rules":"",rules:[e=>e&&e.length>0||l.$t("required")]},null,8,["modelValue","label","rules"]),t(b,{modelValue:o.value.TCVat,"onUpdate:modelValue":a[3]||(a[3]=e=>o.value.TCVat=e),dense:"",label:l.$t("tc_citizen"),class:"text-subtitle2",disable:Ce.value},null,8,["modelValue","label","disable"]),t(r,{modelValue:o.value.MusteriDogumTarihi,"onUpdate:modelValue":a[5]||(a[5]=e=>o.value.MusteriDogumTarihi=e),outlined:"",dense:"","hide-bottom-space":"",label:l.$t("birth_date")},{append:u(()=>[t(Oe,{name:"event",class:"cursor-pointer"},{default:u(()=>[t(Qe,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:u(()=>[t(qe,{modelValue:o.value.MusteriDogumTarihi,"onUpdate:modelValue":a[4]||(a[4]=e=>o.value.MusteriDogumTarihi=e),mask:"DD/MM/YYYY",locale:v(E)},{default:u(()=>[d("div",Re,[we(t($,{label:l.$t("close"),color:"primary",flat:""},null,8,["label"]),[[Ne]])])]),_:1},8,["modelValue","locale"])]),_:1})]),_:1})]),_:1},8,["modelValue","label"]),t(r,{dense:"",outlined:"",modelValue:o.value.MusteriDogumYeri,"onUpdate:modelValue":a[6]||(a[6]=e=>o.value.MusteriDogumYeri=e),label:l.$t("birthplace"),"hide-bottom-space":"","lazy-rules":"",rules:[e=>e&&e.length>0||l.$t("required")]},null,8,["modelValue","label","rules"]),t(s,{outlined:"",modelValue:o.value.MusteriCinsiyet,"onUpdate:modelValue":a[7]||(a[7]=e=>o.value.MusteriCinsiyet=e),options:te,"option-label":e=>e.label,"option-value":"value",label:l.$t("gender"),dense:"","emit-value":"","map-options":"","hide-bottom-space":"",behavior:"menu","lazy-rules":"",rules:[e=>e!==null&&e!==""||l.$t("required")]},null,8,["modelValue","option-label","label","rules"]),t(s,{outlined:"",modelValue:o.value.MusteriUyruk,"onUpdate:modelValue":a[8]||(a[8]=e=>o.value.MusteriUyruk=e),options:v(V),"option-label":e=>e.Aciklama,"option-value":"id","emit-value":"","map-options":"","use-input":"","input-debounce":"0","options-dense":"",label:l.$t("country"),dense:"","hide-bottom-space":"",clearable:"",onFilter:re,behavior:"menu","lazy-rules":"",rules:[e=>e!==null&&e!==""||l.$t("required")]},{"no-option":u(()=>[t(Be,null,{default:u(()=>[t(Fe,{class:"text-grey"},{default:u(()=>[C(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options","option-label","label","rules"]),t(r,{dense:"",outlined:"",modelValue:o.value.MusteriCepTelefonNo,"onUpdate:modelValue":a[9]||(a[9]=e=>o.value.MusteriCepTelefonNo=e),type:"text",label:l.$t("phone_no"),"hide-bottom-space":"",prefix:"+90",mask:"### ### ## ##","unmasked-value":"","lazy-rules":"",rules:[e=>e&&e.length>0||l.$t("required")]},null,8,["modelValue","label","rules"]),t(r,{dense:"",outlined:"",modelValue:o.value.MusteriEPosta,"onUpdate:modelValue":a[10]||(a[10]=e=>o.value.MusteriEPosta=e),type:"email",label:l.$t("email_address"),"hide-bottom-space":"","lazy-rules":"",rules:[e=>e&&e.length>7||l.$t("required")]},null,8,["modelValue","label","rules"]),t(s,{outlined:"",modelValue:o.value.MusteriIlceKodu,"onUpdate:modelValue":[a[11]||(a[11]=e=>o.value.MusteriIlceKodu=e),fe],options:T.value,"option-label":e=>e.Aciklama,"option-value":"id","emit-value":"","map-options":"",label:l.$t("province_select"),dense:"","hide-bottom-space":"",behavior:"menu",clearable:"","use-input":"",onFilter:de,"lazy-rules":"",rules:[e=>e!==null&&e!==""||l.$t("required")]},null,8,["modelValue","options","option-label","label","rules"]),t(s,{outlined:"",modelValue:o.value.MusteriBucakKodu,"onUpdate:modelValue":[a[12]||(a[12]=e=>o.value.MusteriBucakKodu=e),Ve],options:v(z),"option-label":e=>e.ilce_Adi,"option-value":"id","emit-value":"","map-options":"",label:l.$t("district_select"),dense:"",clearable:"","hide-bottom-space":"",behavior:"menu","use-input":"",onFilter:me,"lazy-rules":"",rules:[e=>e!==null&&e!==""||l.$t("required")]},null,8,["modelValue","options","option-label","label","rules"]),t(B,null,{default:u(()=>[t($,{type:"submit",color:"primary",label:l.$t("forward"),"no-caps":"",class:"full-width"},null,8,["label"])]),_:1})]),_:1})]),_:1},8,["done","header-nav"]),t(q,{name:2,prefix:"2",title:"","header-nav":m.value>2,style:{"min-height":"200px"}},{default:u(()=>[t(F,{onSubmit:ke,class:"q-gutter-md"},{default:u(()=>[t(s,{outlined:"",modelValue:o.value.MusteriBelediyeKodu,"onUpdate:modelValue":[a[13]||(a[13]=e=>o.value.MusteriBelediyeKodu=e),ye],options:U.value,"option-label":e=>e.Belediye_Adi,"option-value":"id","emit-value":"","map-options":"",label:l.$t("council_select"),dense:"",clearable:"","hide-bottom-space":"",behavior:"menu","use-input":"",onFilter:pe,"lazy-rules":"",rules:[e=>e!==null&&e!==""||l.$t("required")]},null,8,["modelValue","options","option-label","label","rules"]),t(s,{outlined:"",modelValue:o.value.MusteriMahalleKodu,"onUpdate:modelValue":[a[14]||(a[14]=e=>o.value.MusteriMahalleKodu=e),Me],options:L.value,"option-label":e=>e.Mahalle_Adi,"option-value":"id","emit-value":"","map-options":"",label:l.$t("municipality_select"),dense:"",clearable:"","hide-bottom-space":"","use-input":"",onFilter:be,behavior:"menu","lazy-rules":"",rules:[e=>e!==null&&e!==""||l.$t("required")]},null,8,["modelValue","options","option-label","label","rules"]),t(s,{outlined:"",modelValue:o.value.MusteriCSBMKodu,"onUpdate:modelValue":a[15]||(a[15]=e=>o.value.MusteriCSBMKodu=e),options:O.value,"option-label":e=>e.Sokak_Adi,"option-value":"id","emit-value":"","map-options":"",label:l.$t("street_select"),dense:"",clearable:"","use-input":"",onFilter:ve,"hide-bottom-space":"",behavior:"menu","lazy-rules":"",rules:[e=>e!==null&&e!==""||l.$t("required")]},null,8,["modelValue","options","option-label","label","rules"]),t(s,{outlined:"",modelValue:o.value.TeminatLimitiDovic,"onUpdate:modelValue":[a[16]||(a[16]=e=>o.value.TeminatLimitiDovic=e),Se],options:ue,"option-label":e=>e.label,"option-value":"value","emit-value":"","map-options":"",label:l.$t("currency_select"),dense:"",clearable:"","use-input":"","hide-bottom-space":"",behavior:"menu","lazy-rules":"",rules:[e=>e!==null&&e!==""||l.$t("required")]},null,8,["modelValue","option-label","label","rules"]),t(s,{outlined:"",modelValue:o.value.TeminatLimiti,"onUpdate:modelValue":a[17]||(a[17]=e=>o.value.TeminatLimiti=e),options:v(k),"option-label":e=>e.label,"option-value":"value","emit-value":"","map-options":"",label:l.$t("death_and_permanent_disability"),dense:"",clearable:"","use-input":"","hide-bottom-space":"",behavior:"menu","lazy-rules":"",rules:[e=>e!==null&&e!==""||l.$t("required")]},null,8,["modelValue","options","option-label","label","rules"]),t(r,{dense:"",outlined:"",modelValue:o.value.Lehtar,"onUpdate:modelValue":a[18]||(a[18]=e=>o.value.Lehtar=e),type:"text",label:l.$t("lehtar"),"hide-bottom-space":""},null,8,["modelValue","label"]),t(s,{outlined:"",modelValue:o.value.Meslegi,"onUpdate:modelValue":a[19]||(a[19]=e=>o.value.Meslegi=e),options:v(se),"option-label":e=>e.MeslekSinifi,"option-value":"id","emit-value":"","map-options":"",label:l.$t("job_select"),dense:"",clearable:"","use-input":"","hide-bottom-space":"",behavior:"menu","lazy-rules":"",rules:[e=>e!==null&&e!==""||l.$t("required")]},null,8,["modelValue","options","option-label","label","rules"]),t(s,{outlined:"",modelValue:o.value.AcenteId,"onUpdate:modelValue":a[20]||(a[20]=e=>o.value.AcenteId=e),options:h.value,"option-label":e=>e.Acente_Adi,"option-value":"id","emit-value":"","map-options":"",label:l.$t("agent_select"),dense:"",clearable:"","use-input":"",onFilter:ce,"hide-bottom-space":"",behavior:"menu","lazy-rules":"",rules:[e=>e!==null&&e!==""||l.$t("required")]},null,8,["modelValue","options","option-label","label","rules"]),d("div",Je,p(l.$t("contact_type")),1),t(b,{modelValue:o.value.contact_email,"onUpdate:modelValue":a[21]||(a[21]=e=>o.value.contact_email=e),label:l.$t("email"),dense:""},null,8,["modelValue","label"]),t(b,{modelValue:o.value.contact_phone,"onUpdate:modelValue":a[22]||(a[22]=e=>o.value.contact_phone=e),label:l.$t("phone"),dense:""},null,8,["modelValue","label"]),t(b,{modelValue:o.value.contact_sms,"onUpdate:modelValue":a[23]||(a[23]=e=>o.value.contact_sms=e),label:l.$t("sms"),dense:""},null,8,["modelValue","label"]),t(B,null,{default:u(()=>[t($,{type:"submit",color:"primary",label:l.$t("get_a_quote"),"no-caps":"",class:"full-width"},null,8,["label"])]),_:1}),d("div",We,[d("div",Xe,[t(b,{modelValue:o.value.uyar,"onUpdate:modelValue":a[24]||(a[24]=e=>o.value.uyar=e),color:"primary",dense:""},null,8,["modelValue"])]),d("div",Ze,[d("b",null,p(l.$t("warning"))+":",1),C(" "+p(l.$t("warning_text")),1)]),d("div",_e,[t(De,{spaced:""})]),d("div",xe,p(l.$t("warning_text2")),1)])]),_:1})]),_:1},8,["header-nav"])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}))}});export{Tl as default};
