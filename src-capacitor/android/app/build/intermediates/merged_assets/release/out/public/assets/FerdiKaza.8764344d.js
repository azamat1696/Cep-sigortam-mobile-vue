import{_ as Ve,C as he,bl as Me,D as $e,E as K,r as n,n as ge,p as Se,q as u,az as ke,f as o,H as Ce,v as Y,J as w,I as b,bm as d,s as p,t as Ke,u as f,aA as G,aL as we,B as Le}from"./index.514420a3.js";import{Q as ze}from"./QToolbarTitle.a74a9cdc.js";import{a as Ae,Q as Oe}from"./QHeader.40c6787a.js";import{Q as Qe,a as Te}from"./QPopupProxy.c40c4994.js";import{Q as r}from"./QSelect.5be88002.js";import{Q as Ue,a as qe}from"./QItem.c8aa57d0.js";import{Q as De,a as c,b as L}from"./QStepper.1ded5221.js";import{Q as _}from"./QForm.aa023094.js";import{a as Fe,Q as Be}from"./QLayout.21d8098c.js";import{C as Ie}from"./ClosePopup.e0566f01.js";import{d as Ne}from"./date.f65a5c9c.js";import{u as Ye}from"./ferdi-kaza-store.59bc42c4.js";import{u as Ge}from"./ferdi-kaza-create.eb88346a.js";import{u as z}from"./main-store.1577ce43.js";import _e from"./HesaplananPirim.98d7f884.js";import Ee from"./PaymentPirim.7b283ac3.js";import"./use-cache.b0833c75.js";import"./format.c860d4da.js";import"./position-engine.6d27fd84.js";import"./selection.24b916b5.js";import"./QChip.24369297.js";import"./QItemLabel.52ffe8a8.js";import"./rtl.b51694b1.js";import"./QSlideTransition.e208e9bd.js";import"./use-panel.38a4983e.js";import"./touch.70a9dd44.js";import"./QExpansionItem.3e8e8ffb.js";import"./QList.8b584b97.js";const Pe={class:"row items-center justify-end"},je={class:"row"},He={class:"col-1"},Je={class:"col-11 text-grey-8",style:{"font-size":"11px"}},Re={class:"col-12"},We={class:"col-12"},Xe=he({__name:"FerdiKaza",setup(Ze){var I,N;Me(),z();const E=$e();Ye();const A=Ge();K(A);const{user:m}=K(E),{countries:y,il:O,ilce:P,belediyeSelect:j,mahalleSelect:H,sokakSelect:J,agent:V,jobs:Q}=K(z()),{countriesGet:R,ilGet:W,ilceSelectGet:X,belediyeSelectGet:Z,mahalleSelectGet:x,sokakSelectGet:ee,agentGet:le,getJobs:ae}=z();ae(),R(),W(),X(),Z(),x(),ee(),le();const oe=[{value:"E",label:"Erkek"},{value:"K",label:"Kad\u0131n"}],te=[{value:"200000",label:"200.000 TL"},{value:"400000",label:"400.000 TL"},{value:"750000",label:"750.000 TL"},{value:"1000000",label:"1.000.000 TL"},{value:"1500000",label:"1.500.000 TL"}];let h=n(y.value);n();const T=n(O.value);let M=n([]),U=n([]);const $=n([]),q=n([]),g=n([]),D=n([]),S=n([]),F=n([]),k=n(V.value),B=n(Q.value),ue=(l,a)=>{if(l===""){a(()=>{h.value=y.value});return}a(()=>{const e=l.toLowerCase();h.value=y.value.filter(i=>i.Aciklama.toLowerCase().indexOf(e)>-1)})},ie=(l,a)=>{a(()=>{const e=l.toLowerCase();T.value=O.value.filter(i=>i.Aciklama.toLowerCase().indexOf(e)>-1)})},ne=(l,a)=>{a(()=>{const e=l.toLowerCase();U.value=M.value.filter(i=>i.ilce_Adi.toLowerCase().indexOf(e)>-1)})},se=(l,a)=>{a(()=>{const e=l.toLowerCase();q.value=$.value.filter(i=>i.Belediye_Adi.toLowerCase().indexOf(e)>-1)})},re=(l,a)=>{a(()=>{const e=l.toLowerCase();D.value=g.value.filter(i=>i.Mahalle_Adi.toLowerCase().indexOf(e)>-1)})},de=(l,a)=>{a(()=>{const e=l.toLowerCase();F.value=S.value.filter(i=>{var v;return((v=i.Sokak_Adi)==null?void 0:v.toLowerCase().indexOf(e))>-1})})},me=(l,a)=>{a(()=>{const e=l.toLowerCase();B.value=Q.value.filter(i=>{var v;return((v=i.MeslekSinifi)==null?void 0:v.toLowerCase().indexOf(e))>-1})})},pe=(l,a)=>{if(l===""){a(()=>{k.value=V.value});return}a(()=>{const e=l.toLowerCase();k.value=V.value.filter(i=>i.Acente_Adi.toLowerCase().indexOf(e)>-1)})},ve=l=>{l!==null?M.value=P.value.filter(a=>a.il_Kodu===+l):M.value=[]},be=l=>{l!==null?$.value=j.value.filter(a=>a.ilce_Kodu===+l):$.value=[]},fe=l=>{l!==null?g.value=H.value.filter(a=>+a.belediyenin_Kodu==+l):g.value=[]},ce=l=>{console.log(S),S.value=J.value.filter(a=>+a.mahallenin_Kodu==+l)},C=()=>{s.value++},ye=async()=>{let l=new FormData;for(const[a,e]of Object.entries(t.value))a==="uyar"?l.append(a,e?"1":"0"):l.append(a,e);await A.hesaplaFerdiKaza(l).then(a=>{a&&C()})},s=n(1),t=n({KullaniciAdi:(I=m.value)==null?void 0:I.name,KullaniciSoyAdi:(N=m.value)==null?void 0:N.surname,MusteriTcKimlikNo:m.value.id_card,MusteriDogumYeri:m.value.birthplace,MusteriCinsiyet:"E",MusteriUyruk:"",MusteriDogumTarihi:Ne.formatDate(m.value.birth_date,"DD/MM/YYYY"),MusteriIlceKodu:"",MusteriBucakKodu:"",MusteriBelediyeKodu:"",MusteriMahalleKodu:"",MusteriCSBMKodu:"",MusteriCepTelefonNo:m.value.phone,MusteriEPosta:m.value.email,AcenteId:"",uyar:!1,TeminatLimiti:"",Lehtar:"",Meslegi:"",TCVat:!1});return(l,a)=>(ge(),Se(ke,{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeIn"},{default:u(()=>[o(Be,{key:"ferdiKazaOlustur",view:"lHh Lpr lFf"},{default:u(()=>[o(Ae,{elevated:""},{default:u(()=>[o(Oe,null,{default:u(()=>[o(Ce,{size:"sm"},{default:u(()=>[o(Y,{name:"chevron_left",onClick:a[0]||(a[0]=e=>l.$router.push({name:"homeLogin"})),size:"md",class:"cursor-pointer"})]),_:1}),o(ze,{class:"text-subtitle2 text-bold text-center"},{default:u(()=>[w(b(l.$t("personel_accident")),1)]),_:1})]),_:1})]),_:1}),o(Fe,null,{default:u(()=>[o(De,{modelValue:s.value,"onUpdate:modelValue":a[21]||(a[21]=e=>s.value=e),"header-nav":"",ref:"stepper",color:"primary","active-icon":"none",animated:"",class:"no-shadow","header-class":"no-border"},{default:u(()=>[o(c,{name:1,prefix:1,title:"",done:s.value>1,"header-nav":s.value>1,class:"q-pt-none"},{default:u(()=>[o(_,{onSubmit:C,class:"q-gutter-md"},{default:u(()=>[o(d,{dense:"",outlined:"",modelValue:t.value.KullaniciAdi,"onUpdate:modelValue":a[1]||(a[1]=e=>t.value.KullaniciAdi=e),label:l.$t("name"),"hide-bottom-space":"","lazy-rules":"",readonly:"",rules:[e=>e&&e.length>0||l.$t("required")]},null,8,["modelValue","label","rules"]),o(d,{dense:"",outlined:"",modelValue:t.value.KullaniciSoyAdi,"onUpdate:modelValue":a[2]||(a[2]=e=>t.value.KullaniciSoyAdi=e),label:l.$t("surname"),readonly:"","hide-bottom-space":"","lazy-rules":"",rules:[e=>e&&e.length>0||l.$t("required")]},null,8,["modelValue","label","rules"]),o(d,{dense:"",outlined:"",modelValue:t.value.MusteriTcKimlikNo,"onUpdate:modelValue":a[3]||(a[3]=e=>t.value.MusteriTcKimlikNo=e),label:l.$t("identity_no"),readonly:"","hide-bottom-space":"","lazy-rules":"",rules:[e=>e&&e.length>0||l.$t("required")]},null,8,["modelValue","label","rules"]),o(d,{modelValue:t.value.MusteriDogumTarihi,"onUpdate:modelValue":a[5]||(a[5]=e=>t.value.MusteriDogumTarihi=e),outlined:"",dense:"","hide-bottom-space":"",readonly:"",label:"Do\u011Fum Tarihi"},{append:u(()=>[o(Y,{name:"event",class:"cursor-pointer"},{default:u(()=>[o(Qe,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:u(()=>[o(Te,{modelValue:t.value.MusteriDogumTarihi,"onUpdate:modelValue":a[4]||(a[4]=e=>t.value.MusteriDogumTarihi=e),mask:"DD / MM /YYYY"},{default:u(()=>[p("div",Pe,[Ke(o(f,{label:l.$t("close"),color:"primary",flat:""},null,8,["label"]),[[Ie]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","label"]),o(d,{dense:"",outlined:"",modelValue:t.value.MusteriDogumYeri,"onUpdate:modelValue":a[6]||(a[6]=e=>t.value.MusteriDogumYeri=e),label:l.$t("birthplace"),"hide-bottom-space":"","lazy-rules":"",readonly:"",rules:[e=>e&&e.length>0||l.$t("required")]},null,8,["modelValue","label","rules"]),o(r,{outlined:"",modelValue:t.value.MusteriCinsiyet,"onUpdate:modelValue":a[7]||(a[7]=e=>t.value.MusteriCinsiyet=e),options:oe,"option-label":e=>e.label,"option-value":"value",label:l.$t("gender"),dense:"","emit-value":"","map-options":"","hide-bottom-space":"",behavior:"menu","lazy-rules":"",rules:[e=>e!==null&&e!==""||l.$t("required")]},null,8,["modelValue","option-label","label","rules"]),o(r,{outlined:"",modelValue:t.value.MusteriUyruk,"onUpdate:modelValue":a[8]||(a[8]=e=>t.value.MusteriUyruk=e),options:G(h),"option-label":e=>e.Aciklama,"option-value":"id","emit-value":"","map-options":"","use-input":"","input-debounce":"0","options-dense":"",label:l.$t("country"),dense:"","hide-bottom-space":"",clearable:"",onFilter:ue,behavior:"menu","lazy-rules":"",rules:[e=>e!==null&&e!==""||l.$t("required")]},{"no-option":u(()=>[o(Ue,null,{default:u(()=>[o(qe,{class:"text-grey"},{default:u(()=>[w(b(l.$t("no_results")),1)]),_:1})]),_:1})]),_:1},8,["modelValue","options","option-label","label","rules"]),o(d,{dense:"",outlined:"",modelValue:t.value.MusteriCepTelefonNo,"onUpdate:modelValue":a[9]||(a[9]=e=>t.value.MusteriCepTelefonNo=e),type:"text",readonly:"",label:l.$t("phone_no"),"hide-bottom-space":"","lazy-rules":"",rules:[e=>e&&e.length>0||l.$t("required")]},null,8,["modelValue","label","rules"]),o(d,{dense:"",outlined:"",modelValue:t.value.MusteriEPosta,"onUpdate:modelValue":a[10]||(a[10]=e=>t.value.MusteriEPosta=e),type:"text",readonly:"",label:l.$t("email_address"),"hide-bottom-space":"","lazy-rules":"",rules:[e=>e&&e.length>7||l.$t("required")]},null,8,["modelValue","label","rules"]),o(L,null,{default:u(()=>[o(f,{type:"submit",color:"primary",label:l.$t("forward"),"no-caps":"",class:"full-width"},null,8,["label"])]),_:1})]),_:1})]),_:1},8,["done","header-nav"]),o(c,{name:2,prefix:2,done:s.value>2,title:"","header-nav":s.value>2,style:{"min-height":"200px"}},{default:u(()=>[o(_,{onSubmit:ye,class:"q-gutter-md"},{default:u(()=>[o(r,{outlined:"",modelValue:t.value.MusteriIlceKodu,"onUpdate:modelValue":[a[11]||(a[11]=e=>t.value.MusteriIlceKodu=e),ve],options:T.value,"option-label":e=>e.Aciklama,"option-value":"id","emit-value":"","map-options":"",label:l.$t("province_select"),dense:"","hide-bottom-space":"",behavior:"menu",clearable:"","use-input":"",onFilter:ie,"lazy-rules":"",rules:[e=>e!==null&&e!==""||l.$t("required")]},null,8,["modelValue","options","option-label","label","rules"]),o(r,{outlined:"",modelValue:t.value.MusteriBucakKodu,"onUpdate:modelValue":[a[12]||(a[12]=e=>t.value.MusteriBucakKodu=e),be],options:G(U),"option-label":e=>e.ilce_Adi,"option-value":"id","emit-value":"","map-options":"",label:l.$t("district_select"),dense:"",clearable:"","hide-bottom-space":"",behavior:"menu","use-input":"",onFilter:ne,"lazy-rules":"",rules:[e=>e!==null&&e!==""||l.$t("required")]},null,8,["modelValue","options","option-label","label","rules"]),o(r,{outlined:"",modelValue:t.value.MusteriBelediyeKodu,"onUpdate:modelValue":[a[13]||(a[13]=e=>t.value.MusteriBelediyeKodu=e),fe],options:q.value,"option-label":e=>e.Belediye_Adi,"option-value":"id","emit-value":"","map-options":"",label:l.$t("council_select"),dense:"",clearable:"","hide-bottom-space":"",behavior:"menu","use-input":"",onFilter:se,"lazy-rules":"",rules:[e=>e!==null&&e!==""||l.$t("required")]},null,8,["modelValue","options","option-label","label","rules"]),o(r,{outlined:"",modelValue:t.value.MusteriMahalleKodu,"onUpdate:modelValue":[a[14]||(a[14]=e=>t.value.MusteriMahalleKodu=e),ce],options:D.value,"option-label":e=>e.Mahalle_Adi,"option-value":"id","emit-value":"","map-options":"",label:l.$t("municipality_select"),dense:"",clearable:"","hide-bottom-space":"","use-input":"",onFilter:re,behavior:"menu","lazy-rules":"",rules:[e=>e!==null&&e!==""||l.$t("required")]},null,8,["modelValue","options","option-label","label","rules"]),o(r,{outlined:"",modelValue:t.value.MusteriCSBMKodu,"onUpdate:modelValue":a[15]||(a[15]=e=>t.value.MusteriCSBMKodu=e),options:F.value,"option-label":e=>e.Sokak_Adi,"option-value":"id","emit-value":"","map-options":"",label:l.$t("street_select"),dense:"",clearable:"","use-input":"",onFilter:de,"hide-bottom-space":"",behavior:"menu","lazy-rules":"",rules:[e=>e!==null&&e!==""||l.$t("required")]},null,8,["modelValue","options","option-label","label","rules"]),o(r,{outlined:"",modelValue:t.value.TeminatLimiti,"onUpdate:modelValue":a[16]||(a[16]=e=>t.value.TeminatLimiti=e),options:te,"option-label":e=>e.label,"option-value":"value","emit-value":"","map-options":"",label:l.$t("death_and_permanent_disability"),dense:"",clearable:"","use-input":"","hide-bottom-space":"",behavior:"menu","lazy-rules":"",rules:[e=>e!==null&&e!==""||l.$t("required")]},null,8,["modelValue","option-label","label","rules"]),o(d,{dense:"",outlined:"",modelValue:t.value.Lehtar,"onUpdate:modelValue":a[17]||(a[17]=e=>t.value.Lehtar=e),type:"text",label:l.$t("lehtar"),"hide-bottom-space":""},null,8,["modelValue","label"]),o(r,{outlined:"",modelValue:t.value.Meslegi,"onUpdate:modelValue":a[18]||(a[18]=e=>t.value.Meslegi=e),options:B.value,"option-label":e=>e.MeslekSinifi,"option-value":"MeslekSinifi","emit-value":"","map-options":"",label:l.$t("job_select"),dense:"",clearable:"","use-input":"","hide-bottom-space":"",behavior:"menu",onFilter:me,"lazy-rules":"",rules:[e=>e!==null&&e!==""||l.$t("required")]},null,8,["modelValue","options","option-label","label","rules"]),o(r,{outlined:"",modelValue:t.value.AcenteId,"onUpdate:modelValue":a[19]||(a[19]=e=>t.value.AcenteId=e),options:k.value,"option-label":e=>e.Acente_Adi,"option-value":"id","emit-value":"","map-options":"",label:l.$t("agent_select"),dense:"",clearable:"","use-input":"",onFilter:pe,"hide-bottom-space":"",behavior:"menu","lazy-rules":"",rules:[e=>e!==null&&e!==""||l.$t("required")]},null,8,["modelValue","options","option-label","label","rules"]),o(L,null,{default:u(()=>[o(f,{type:"submit",color:"primary",label:l.$t("calculate"),"no-caps":"",class:"full-width"},null,8,["label"])]),_:1}),p("div",je,[p("div",He,[o(we,{modelValue:t.value.uyar,"onUpdate:modelValue":a[20]||(a[20]=e=>t.value.uyar=e),color:"primary",dense:""},null,8,["modelValue"])]),p("div",Je,[p("b",null,b(l.$t("warning"))+":",1),w(" "+b(l.$t("warning_text")),1)]),p("div",Re,[o(Le,{spaced:""})]),p("div",We,b(l.$t("warning_text_lehtar")),1)])]),_:1})]),_:1},8,["done","header-nav"]),o(c,{name:3,title:l.$t("calculated_premium"),done:s.value>3,"header-nav":s.value>3,style:{"min-height":"200px"}},{default:u(()=>[o(_e),o(L,null,{default:u(()=>[o(f,{type:"submit",color:"primary",label:l.$t("forward"),"no-caps":"",class:"full-width",onClick:C},null,8,["label"])]),_:1})]),_:1},8,["title","done","header-nav"]),o(c,{name:4,title:l.$t("payment_submit"),done:s.value>4,"header-nav":s.value>4,style:{"min-height":"200px"}},{default:u(()=>[o(Ee)]),_:1},8,["title","done","header-nav"])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}))}});var wl=Ve(Xe,[["__scopeId","data-v-b69333ca"]]);export{wl as default};
