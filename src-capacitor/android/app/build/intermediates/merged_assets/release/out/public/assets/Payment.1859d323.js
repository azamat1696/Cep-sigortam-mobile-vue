import{Q}from"./QForm.aa023094.js";import{_ as Z,r as v,by as D,n as l,p as G,q as y,s as i,bz as C,bA as X,f as M,aN as c,aO as B,N as E,bd as N,F as I,I as h,az as K,J as $,t as T,bB as F,bC as W,z as ee,A as te}from"./index.514420a3.js";import"./ferdi-kaza-create.eb88346a.js";/*! maska v2.1.8 | (c) Alexander Shabunevich | Released under the MIT license */var se=Object.defineProperty,ae=(s,e,a)=>e in s?se(s,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[e]=a,R=(s,e,a)=>(ae(s,typeof e!="symbol"?e+"":e,a),a);const L={"#":{pattern:/[0-9]/},"@":{pattern:/[a-zA-Z]/},"*":{pattern:/[a-zA-Z0-9]/}};class j{constructor(e={}){R(this,"opts",{}),R(this,"memo",new Map);var a;const t={...e};if(t.tokens!=null){t.tokens=t.tokensReplace?{...t.tokens}:{...L,...t.tokens};for(const d of Object.values(t.tokens))typeof d.pattern=="string"&&(d.pattern=new RegExp(d.pattern))}else t.tokens=L;Array.isArray(t.mask)&&(t.mask.length>1?t.mask=[...t.mask].sort((d,n)=>d.length-n.length):t.mask=(a=t.mask[0])!=null?a:""),t.mask===""&&(t.mask=null),this.opts=t}masked(e){return this.process(e,this.findMask(e))}unmasked(e){return this.process(e,this.findMask(e),!1)}isEager(){return this.opts.eager===!0}isReversed(){return this.opts.reversed===!0}completed(e){const a=this.findMask(e);if(this.opts.mask==null||a==null)return!1;const t=this.process(e,a).length;return typeof this.opts.mask=="string"?t>=this.opts.mask.length:typeof this.opts.mask=="function"?t>=a.length:this.opts.mask.filter(d=>t>=d.length).length===this.opts.mask.length}findMask(e){var a,t;const d=this.opts.mask;if(d==null)return null;if(typeof d=="string")return d;if(typeof d=="function")return d(e);const n=this.process(e,(a=d.slice(-1).pop())!=null?a:"",!1);return(t=d.find(m=>this.process(e,m,!1).length>=n.length))!=null?t:""}escapeMask(e){const a=[],t=[];return e.split("").forEach((d,n)=>{d==="!"&&e[n-1]!=="!"?t.push(n-t.length):a.push(d)}),{mask:a.join(""),escaped:t}}process(e,a,t=!0){var d;if(a==null)return e;const n=`value=${e},mask=${a},masked=${t?1:0}`;if(this.memo.has(n))return this.memo.get(n);const{mask:m,escaped:p}=this.escapeMask(a),r=[],o=this.opts.tokens!=null?this.opts.tokens:{},_=this.isReversed()?-1:1,g=this.isReversed()?"unshift":"push",S=this.isReversed()?0:m.length-1,J=this.isReversed()?()=>u>-1&&f>-1:()=>u<m.length&&f<e.length,H=b=>!this.isReversed()&&b<=S||this.isReversed()&&b>=S;let Y,w=-1,u=this.isReversed()?m.length-1:0,f=this.isReversed()?e.length-1:0;for(;J();){const b=m.charAt(u),k=o[b],A=(k==null?void 0:k.transform)!=null?k.transform(e.charAt(f)):e.charAt(f);if(!p.includes(u)&&k!=null){if(A.match(k.pattern)!=null)r[g](A),k.repeated?(w===-1?w=u:u===S&&u!==w&&(u=w-_),S===w&&(u-=_)):k.multiple&&(u-=_),u+=_;else if(k.multiple){const q=((d=r[f-_])==null?void 0:d.match(k.pattern))!=null,U=m.charAt(u+_);q&&U!==""&&o[U]==null?(u+=_,f-=_):r[g]("")}else A===Y?Y=void 0:k.optional&&(u+=_,f-=_);f+=_}else t&&!this.isEager()&&r[g](b),A===b&&!this.isEager()?f+=_:Y=b,this.isEager()||(u+=_);if(this.isEager())for(;H(u)&&(o[m.charAt(u)]==null||p.includes(u));)t?r[g](m.charAt(u)):m.charAt(u)===e.charAt(f)&&(f+=_),u+=_}return this.memo.set(n,r.join("")),this.memo.get(n)}}const z=s=>JSON.parse(s.replaceAll("'",'"')),x=(s,e={})=>{const a={...e};return s.dataset.maska!=null&&s.dataset.maska!==""&&(a.mask=re(s.dataset.maska)),s.dataset.maskaEager!=null&&(a.eager=O(s.dataset.maskaEager)),s.dataset.maskaReversed!=null&&(a.reversed=O(s.dataset.maskaReversed)),s.dataset.maskaTokensReplace!=null&&(a.tokensReplace=O(s.dataset.maskaTokensReplace)),s.dataset.maskaTokens!=null&&(a.tokens=ne(s.dataset.maskaTokens)),a},O=s=>s!==""?Boolean(JSON.parse(s)):!0,re=s=>s.startsWith("[")&&s.endsWith("]")?z(s):s,ne=s=>{if(s.startsWith("{")&&s.endsWith("}"))return z(s);const e={};return s.split("|").forEach(a=>{const t=a.split(":");e[t[0]]={pattern:new RegExp(t[1]),optional:t[2]==="optional",multiple:t[2]==="multiple",repeated:t[2]==="repeated"}}),e};class ie{constructor(e,a={}){R(this,"items",new Map),R(this,"beforeinputEvent",t=>{const d=t.target,n=this.items.get(d);n.isEager()&&"inputType"in t&&t.inputType.startsWith("delete")&&n.unmasked(d.value).length<=1&&this.setMaskedValue(d,"")}),R(this,"inputEvent",t=>{if(t instanceof CustomEvent&&t.type==="input"&&t.detail!=null&&typeof t.detail=="object"&&"masked"in t.detail)return;const d=t.target,n=this.items.get(d),m=d.value,p=d.selectionStart,r=d.selectionEnd;let o=m;if(n.isEager()){const _=n.masked(m),g=n.unmasked(m);g===""&&"data"in t&&t.data!=null?o=t.data:g!==n.unmasked(_)&&(o=g)}if(this.setMaskedValue(d,o),"inputType"in t&&(t.inputType.startsWith("delete")||p!=null&&p<m.length))try{d.setSelectionRange(p,r)}catch{}}),this.options=a,typeof e=="string"?this.init(Array.from(document.querySelectorAll(e)),this.getMaskOpts(a)):this.init("length"in e?Array.from(e):[e],this.getMaskOpts(a))}destroy(){for(const e of this.items.keys())e.removeEventListener("input",this.inputEvent),e.removeEventListener("beforeinput",this.beforeinputEvent);this.items.clear()}needUpdateOptions(e,a){const t=this.items.get(e),d=new j(x(e,this.getMaskOpts(a)));return JSON.stringify(t.opts)!==JSON.stringify(d.opts)}needUpdateValue(e){const a=e.dataset.maskaValue;return a==null&&e.value!==""||a!=null&&a!==e.value}getMaskOpts(e){const{onMaska:a,preProcess:t,postProcess:d,...n}=e;return n}init(e,a){for(const t of e){const d=new j(x(t,a));this.items.set(t,d),t.value!==""&&this.setMaskedValue(t,t.value),t.addEventListener("input",this.inputEvent),t.addEventListener("beforeinput",this.beforeinputEvent)}}setMaskedValue(e,a){const t=this.items.get(e);this.options.preProcess!=null&&(a=this.options.preProcess(a));const d=t.masked(a),n=t.unmasked(t.isEager()?d:a),m=t.completed(a),p={masked:d,unmasked:n,completed:m};a=d,this.options.postProcess!=null&&(a=this.options.postProcess(a)),e.value=a,e.dataset.maskaValue=a,this.options.onMaska!=null&&(Array.isArray(this.options.onMaska)?this.options.onMaska.forEach(r=>r(p)):this.options.onMaska(p)),e.dispatchEvent(new CustomEvent("maska",{detail:p})),e.dispatchEvent(new CustomEvent("input",{detail:p}))}}const P=new WeakMap,de=s=>{setTimeout(()=>{var e;((e=P.get(s))==null?void 0:e.needUpdateValue(s))===!0&&s.dispatchEvent(new CustomEvent("input"))})},oe=(s,e)=>{const a=s instanceof HTMLInputElement?s:s.querySelector("input"),t={...e.arg};if(a==null)return;de(a);const d=P.get(a);if(d!=null){if(!d.needUpdateOptions(a,t))return;d.destroy()}if(e.value!=null){const n=e.value,m=p=>{n.masked=p.masked,n.unmasked=p.unmasked,n.completed=p.completed};t.onMaska=t.onMaska==null?m:Array.isArray(t.onMaska)?[...t.onMaska,m]:[t.onMaska,m]}P.set(a,new ie(a,t))};const le={name:"Payment",directives:{maska:oe},props:{title:{type:String,default:!1}},setup(){return{currentCardBackground:v(Math.floor(Math.random()*25+1)),cardName2:v(""),cardNumber2:v(""),cardMonth:v(""),cardYear:v(""),cardCvv:v(""),minCardYear:v(new Date().getFullYear()),amexCardMask:"#### ###### #####",otherCardMask:"#### #### #### ####",cardNumberTemp:v(""),isCardFlipped:v(!1),focusElementStyle:v(null),isInputFocused:v(!1)}},mounted(){this.cardNumberTemp=this.otherCardMask,document.getElementById("cardNumber").focus()},computed:{getCardType(){let s=this.cardNumber2,e=new RegExp("^4");return s.match(e)!=null?"visa":(e=new RegExp("^(34|37)"),s.match(e)!=null?"amex":(e=new RegExp("^5[1-5]"),s.match(e)!=null?"mastercard":(e=new RegExp("^6011"),s.match(e)!=null?"discover":(e=new RegExp("^9792"),s.match(e)!=null?"troy":"visa"))))},generateCardNumberMask(){return this.getCardType==="amex"?this.amexCardMask:this.otherCardMask},minCardMonth(){return this.cardYear===this.minCardYear?new Date().getMonth()+1:1}},watch:{cardYear(){this.cardMonth<this.minCardMonth&&(this.cardMonth="")}},methods:{getTransaction(){this.$emit("getCardValues",this.cardNumber2,this.cardName2,this.cardMonth,this.cardYear,this.cardCvv)},flipCard(s){this.isCardFlipped=s},focusInput(s){this.isInputFocused=!0;let e=s.target.dataset.ref,a=this.$refs[e];this.focusElementStyle={width:`${a.offsetWidth}px`,height:`${a.offsetHeight}px`,transform:`translateX(${a.offsetLeft}px) translateY(${a.offsetTop}px)`}},blurInput(){let s=this;setTimeout(()=>{s.isInputFocused||(s.focusElementStyle=null)},300),s.isInputFocused=!1}}},V=s=>(ee("data-v-9429f332"),s=s(),te(),s),ce={class:"card-form"},me={class:"card-list"},ue={class:"card-item__side -front"},he={class:"card-item__cover"},pe=["src"],_e={class:"card-item__wrapper"},fe={class:"card-item__top"},ve=V(()=>i("img",{src:"https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/chip.png",class:"card-item__chip"},null,-1)),ke={class:"card-item__type"},ge=["src"],ye={for:"cardNumber",class:"card-item__number",ref:"cardNumber"},be={key:0,class:"card-item__numberItem"},Me={key:0,class:"card-item__numberItem"},Ce={class:"card-item__content"},Ee={for:"cardName",class:"card-item__info",ref:"cardName"},Ne={class:"card-item__holder"},Ie={class:"card-item__name",key:"1"},we={class:"card-item__name",key:"2"},Te={class:"card-item__date",ref:"cardDate"},Re={for:"cardMonth",class:"card-item__dateTitle"},Se={for:"cardMonth",class:"card-item__dateItem"},Ae={key:"2"},Ve={for:"cardYear",class:"card-item__dateItem"},Ye={key:"2"},Be={class:"card-item__side -back"},Fe={class:"card-item__cover"},Oe=["src"],Pe=V(()=>i("div",{class:"card-item__band"},null,-1)),Ue={class:"card-item__cvv"},De=V(()=>i("div",{class:"card-item__cvvTitle"},"CVV",-1)),We={class:"card-item__cvvBand"},Le={class:"card-item__type"},je=["src"],xe={class:"card-form__inner"},ze={class:"card-input"},Je={for:"cardNumber",class:"card-input__label"},He=["data-maska"],qe={class:"card-input"},Qe={for:"cardName",class:"card-input__label"},Ze={class:"card-form__row"},Ge={class:"card-form__col"},Xe={class:"card-form__group"},Ke={for:"cardMonth",class:"card-input__label"},$e={value:"",disabled:"",selected:""},et=["value","disabled"],tt={value:"",disabled:"",selected:""},st=["value"],at={class:"card-form__col -cvv"},rt={class:"card-input"},nt=V(()=>i("label",{for:"cardCvv",class:"card-input__label"},"CVV",-1)),it={class:"card-form__button",type:"submit"};function dt(s,e,a,t,d,n){const m=D("maska"),p=D("mask");return l(),G(Q,{onSubmit:n.getTransaction,class:"q-pt-lg full-height"},{default:y(()=>[i("div",ce,[i("div",me,[i("div",{class:C(["card-item",{"-active":t.isCardFlipped}])},[i("div",ue,[i("div",{class:C(["card-item__focus",{"-active":t.focusElementStyle}]),style:X(t.focusElementStyle),ref:"focusElement"},null,6),i("div",he,[i("img",{src:"https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/"+t.currentCardBackground+".jpeg",class:"card-item__bg"},null,8,pe)]),i("div",_e,[i("div",fe,[ve,i("div",ke,[M(E,{name:"slide-fade-up"},{default:y(()=>[n.getCardType?(l(),c("img",{src:"https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/"+n.getCardType+".png",key:n.getCardType,alt:"",class:"card-item__typeImg"},null,8,ge)):B("",!0)]),_:1})])]),i("label",ye,[n.getCardType==="amex"?(l(!0),c(I,{key:0},N(t.amexCardMask,(r,o)=>(l(),c("span",{key:o},[M(E,{name:"slide-fade-up"},{default:y(()=>[o>4&&o<14&&t.cardNumber2.length>o&&r.trim()!==""?(l(),c("div",be," * ")):t.cardNumber2.length>o?(l(),c("div",{class:C(["card-item__numberItem",{"-active":r.trim()===""}]),key:o},h(t.cardNumber2[o]),3)):(l(),c("div",{class:C(["card-item__numberItem",{"-active":r.trim()===""}]),key:o+1},h(r),3))]),_:2},1024)]))),128)):(l(!0),c(I,{key:1},N(t.otherCardMask,(r,o)=>(l(),c("span",{key:o},[M(E,{name:"slide-fade-up"},{default:y(()=>[o>4&&o<15&&t.cardNumber2.length>o&&r.trim()!==""?(l(),c("div",Me," * ")):t.cardNumber2.length>o?(l(),c("div",{class:C(["card-item__numberItem",{"-active":r.trim()===""}]),key:o},h(t.cardNumber2[o]),3)):(l(),c("div",{class:C(["card-item__numberItem",{"-active":r.trim()===""}]),key:o+1},h(r),3))]),_:2},1024)]))),128))],512),i("div",Ce,[i("label",Ee,[i("div",Ne,h(s.$t("cardHolder")),1),M(E,{name:"slide-fade-up"},{default:y(()=>[t.cardName2.length?(l(),c("div",Ie,[M(K,{name:"slide-fade-right"},{default:y(()=>[s.$index===s.$index?(l(!0),c(I,{key:0},N(t.cardName2.replace(/\s\s+/g," "),(r,o)=>(l(),c("span",{class:"card-item__nameItem",key:o+1},h(r),1))),128)):B("",!0)]),_:1})])):(l(),c("div",we,h(s.$t("cardHolderName")),1))]),_:1})],512),i("div",Te,[i("label",Re,h(s.$t("expires")),1),i("label",Se,[M(E,{name:"slide-fade-up"},{default:y(()=>[t.cardMonth?(l(),c("span",{key:t.cardMonth},h(t.cardMonth),1)):(l(),c("span",Ae,"MM"))]),_:1})]),$(" / "),i("label",Ve,[M(E,{name:"slide-fade-up"},{default:y(()=>[t.cardYear?(l(),c("span",{key:t.cardYear},h(String(t.cardYear).slice(2,4)),1)):(l(),c("span",Ye,"YY"))]),_:1})])],512)])])]),i("div",Be,[i("div",Fe,[i("img",{src:"https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/"+t.currentCardBackground+".jpeg",class:"card-item__bg"},null,8,Oe)]),Pe,i("div",Ue,[De,i("div",We,[(l(!0),c(I,null,N(t.cardCvv,(r,o)=>(l(),c("span",{key:o}," * "))),128))]),i("div",Le,[n.getCardType?(l(),c("img",{key:0,src:"https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/"+n.getCardType+".png",class:"card-item__typeImg"},null,8,je)):B("",!0)])])])],2)]),i("div",xe,[i("div",ze,[i("label",Je,h(s.$t("cardNumber")),1),T(i("input",{type:"text",id:"cardNumber",class:"card-input__input","data-maska":n.generateCardNumberMask,"onUpdate:modelValue":e[0]||(e[0]=r=>t.cardNumber2=r),onFocus:e[1]||(e[1]=(...r)=>n.focusInput&&n.focusInput(...r)),onBlur:e[2]||(e[2]=(...r)=>n.blurInput&&n.blurInput(...r)),"data-ref":"cardNumber",autocomplete:"off"},null,40,He),[[m],[F,t.cardNumber2]])]),i("div",qe,[i("label",Qe,h(s.$t("cardHolder")),1),T(i("input",{type:"text",id:"cardName",class:"card-input__input","onUpdate:modelValue":e[3]||(e[3]=r=>t.cardName2=r),onFocus:e[4]||(e[4]=(...r)=>n.focusInput&&n.focusInput(...r)),onBlur:e[5]||(e[5]=(...r)=>n.blurInput&&n.blurInput(...r)),"data-ref":"cardName",autocomplete:"off"},null,544),[[F,t.cardName2]])]),i("div",Ze,[i("div",Ge,[i("div",Xe,[i("label",Ke,h(s.$t("expirationDate")),1),T(i("select",{class:"card-input__input -select",id:"cardMonth","onUpdate:modelValue":e[6]||(e[6]=r=>t.cardMonth=r),onFocus:e[7]||(e[7]=(...r)=>n.focusInput&&n.focusInput(...r)),onBlur:e[8]||(e[8]=(...r)=>n.blurInput&&n.blurInput(...r)),"data-ref":"cardDate"},[i("option",$e,h(s.$t("month")),1),(l(),c(I,null,N(12,r=>i("option",{value:r<10?"0"+r:r,disabled:r<n.minCardMonth,key:r},h(r<10?"0"+r:r),9,et)),64))],544),[[W,t.cardMonth]]),T(i("select",{class:"card-input__input -select",id:"cardYear","onUpdate:modelValue":e[9]||(e[9]=r=>t.cardYear=r),onFocus:e[10]||(e[10]=(...r)=>n.focusInput&&n.focusInput(...r)),onBlur:e[11]||(e[11]=(...r)=>n.blurInput&&n.blurInput(...r)),"data-ref":"cardDate"},[i("option",tt,h(s.$t("year")),1),(l(),c(I,null,N(12,(r,o)=>i("option",{value:o+t.minCardYear,key:r},h(o+t.minCardYear),9,st)),64))],544),[[W,t.cardYear]])])]),i("div",at,[i("div",rt,[nt,T(i("input",{type:"text",class:"card-input__input",id:"cardCvv","data-mask":"###",maxlength:"3","onUpdate:modelValue":e[12]||(e[12]=r=>t.cardCvv=r),onFocus:e[13]||(e[13]=r=>n.flipCard(!0)),onBlur:e[14]||(e[14]=r=>n.flipCard(!1)),autocomplete:"off"},null,544),[[p],[F,t.cardCvv]])])])]),i("button",it,h(s.$t("finish_payment")),1)])])]),_:1},8,["onSubmit"])}var mt=Z(le,[["render",dt],["__scopeId","data-v-9429f332"]]);export{mt as P,oe as U};
